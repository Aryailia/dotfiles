# Simple X Hotkey Daemon config file
# NOTE: Need to fcitx environment variables set before sxhkd for its subprocess

# The keys NOT bound here by sxhkd, left to the window manager (QWERTY layout)
# The 'r' 'i' 'o' keys
# The 'h' through ';' keys on the home row

# Basic binds
super + {_, alt +, ctrl +, ctrl + alt +} Return
  {$TERMINAL, alacritty, st, sakura} -e tmux.sh open
  #{$TERMINAL, alacritty, st, sakura} -e env SHELL=/usr/bin/fish tmux.sh open
super + shift + {_, alt +, ctrl +, ctrl + alt +} Return
  {$TERMINAL, alacritty, st, sakura}
super + shift + q
  kill "$(xprop -id "$(xprop -root 32x '\t$0' _NET_ACTIVE_WINDOW | cut -f 2)" '\t$0' _NET_WM_PID | cut -f 2)"
super + e
  $TERMINAL -e emacs --no-init-file --no-site-file --load "${EMACSINIT}"
#super + shift + e
#  $TERMINAL -e tmux.sh open 'neomutt'
super + shift + a
  $TERMINAL -e alsamixer; statusbar-startrefresh.sh
super + shift + s
  $TERMINAL -e syncthing -no-browser
super + d
  dmenu_run
super + shift + w
  $TERMINAL -e sh -c 'echo "nmcli"; echo "====="; sudo nmtui'; statusbar-startrefresh.sh
super + shift + z
  $TERMINAL -e htop
#super + shift + c
#  $TERMINAL -e calcurse -D ~/.config/calcurse
# Camera
super + shift + c
  mpv --no-osc --no-input-default-bindings --input-conf=/dev/null --title='mpvfloat' /dev/video0
super + shift + n
  $TERMINAL -e tmux.sh open 'newsboat'
#super + shift + m
#  $TERMINAL -e ncmpcpp



# Xclip seems to need setsid to perserve the copy after the launching terminal has closed
super + g ; super + {s, b, g}
  $TERMINAL -t 'fullscreen_overlay' -e browser.sh --launch menu {search, bookmark, link}
super + c ; super + {s, b}
  $TERMINAL -t 'fullscreen_overlay' -e browser.sh menu {search, bookmark} --browser "clipboard"
super + c ; super + e
  $TERMINAL -t 'fullscreen_overlay' -e sh -c 'setsid clipboard.sh -w "$(<~/.config/emoji fzf | cut -d " " -f 1)"'
super + g ; super + {a, p}
  st -t 'fullscreen_overlay' -e sh -c '<{~/interim/ref/fcitx-table-extra/tables/zhengma-large.txt, "$DOTENVIRONMENT/notes/language/zhengma-parts.adoc"} fzf'



super + grave
  $TERMINAL -n 'overlay' -e setsid clipboard.sh -w "$(date +%s)"
#super + Scroll_Lock
#  killall screenkey || screenkey
super + shift + Insert
  notify.sh "Clipboard: $(xclip -o -selection clipboard)"; \
  notify.sh "Primary: $(xclip -o -selection primary)"
{XF86Sleep, super + BackSpace ; super + q }
  sudo zzz -z
#notify.sh 'Sleep!'
# sudo halt
super + BackSpace ; super + { w, e, r, BackSpace }
  printf '%s\n' No Yes | dmenu -i -p { \
    'Hibernate?' | grep -q 'Yes' && sudo zzz -Z, \
    'Shutdown?' | grep -q 'Yes' && sudo shutdown -h now, \
    'Reboot?' | grep -q 'Yes' && sudo reboot, \
    'Close Xorg?' | grep -q 'Yes' && killall Xorg \
  }
super + BackSpace ; super + s
  xlock -mode blank
#super + x
#  mpc pause; pauseallmpv; i3lock -e -f -c 1d2021; xset dpms force off
#XF86Launch1
#  xset dpms force off
XF86TouchpadToggle
  synclient "TouchpadOff=$(synclient -l | awk '/TouchpadOff/\{ print !$3; \}')"
XF86TouchpadOff
  synclient TouchpadOff=1
XF86TouchpadOn
  synclient TouchpadOff=0

# Language
super + {alt +, control +, alt + control +} 1
  fcitx-remote -s {fcitx-keyboard-us-alt-intl-unicode, fcitx-keyboard-cn-altgr-pinyin, ipa-x-sampa}
super + {alt +, control +, alt + control +} 2
  fcitx-remote -s {mozc, anthy, kkc}
super + {alt +, control +, alt + control +} 3
  fcitx-remote -s {zhengma-large, pinyin, wbpy}
super + {alt +, control +, alt + control +} 4
  fcitx-remote -s {jyutping, rime, chewing}
super + alt + 5
  fcitx-remote -s hangul


## Recording
## Take screenshot
Print
  flameshot gui
#  maim -s | xclip -selection clipboard -target image/png
#  maim -s pic-full-$(date '+%y%m%d-%H%M-%S').png
## Pick screenshot type
#shift + Print
#  maimpick
## Record audio or video
#super + Print
#  dmenurecord
## kill active recording
#super + Delete
#  dmenurecord kill
#
## Pause audio
#super + {_,shift +} p
#  mpc {toggle,pause}
## Changes to next/previous tracks
#super + {comma,period}
#  mpc {prev,next}
## Restart track
#super + shift + less
#  mpc seek 0%
## Seek foward in song
#super + {_,shift +} bracketright
#  mpc seek +{10,120}
## Seek backward in song
#super + {_,shift +} bracketleft
#  mpc seek -{10,120}
## Increase volume
#super + {equal,plus}
#  amixer sset Master {5,15}%+; refbar
## Decrease volume
#super {_,shift +} + minus
#  amixer sset Master {5,15}%-; refbar
#super + shift + m
#  amixer sset Master toggle; refbar

## Audiokeys
XF86AudioMute
  amixer sset Master toggle; statusbar-startrefresh.sh
XF86Audio{Raise,Lower}Volume
  amixer sset Master 5%{+,-}; statusbar-startrefresh.sh
#XF86Audio{Next,Prev}
#  mpc {next,prev}
#XF86Audio{Pause,Play,Stop}
#  mpc {pause,play,stop}
#XF86Audio{Rewind,Forward}
#  mpc seek {-,+}10
#XF86AudioRecord
#  dmenurecord
#XF86AudioMedia
#  $TERMINAL -e ncmpcpp

XF86MonBrightnessUp
  xbacklight + 10; statusbar-startrefresh.sh
XF86MonBrightnessDown
  xbacklight - 10; statusbar-startrefresh.sh
#XF86PowerOff
#  prompt "Shutdown computer?" "sudo -A shutdown -h now"
#XF86Calculator
#  $TERMINAL -e bc
#XF86Sleep
#  prompt 'Hibernate computer?' 'sudo -A zzz'
#XF86WWW
#  $BROWSER
#XF86DOS
#  $TERMINAL
#XF86ScreenSaver
#  mpc pause; pauseallmpv; i3lock -e -f -c 1d2021; xset dpms force off
#XF86TaskPane
#  $TERMINAL -e htop
#XF86Mail
#  $TERMINAL -e neomutt
#XF86MyComputer
#  $TERMINAL -e $FILE /

# Function keys
## Start torrent daemon/open interface
#super + F6
#  torwrap
## toggle torrent daemon
#super + F7
#  td-togggle
## sync email
#super + F8
#  mailsync
## Mount a USB drive or Android device
#super + {F9,F10}
#  {dmenumount,dmenuumount}

#super + F12
#  $TERMINAL -e wpa_cli
